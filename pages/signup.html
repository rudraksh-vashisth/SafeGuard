<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeGuard | Register</title>
    <link rel="icon" type="image/png" href="../assets/images/Logo.png">

    <!-- 1. External Libraries (Cleaned to one version 19.2.19 for Search support) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/19.2.19/css/intlTelInput.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- 2. CSS Files -->
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="../styles/animations.css">
</head>

<body>

    <!-- SPLASH SCREEN -->
    <div id="splash-screen">
        <div class="splash-content">
            <div class="logo-circle">
                <div class="inner-pulse"></div>
                <img src="../assets/images/Logo.png" alt="SafeGuard Logo">
            </div>
            <h2 class="splash-logo-text">WOMEN SAFEGUARD</h2>
        </div>
    </div>

    <!-- MAIN AUTH WRAPPER (Starts hidden for animation) -->
    <div class="auth-wrapper hidden" id="main-content">

        <div class="bg-blur-circle circle-1"></div>
        <div class="bg-blur-circle circle-2"></div>

        <div class="auth-card">
            <!-- Theme Toggle -->
            <button id="theme-toggle" class="theme-btn" title="Toggle Light/Dark Mode">
                <i class="fa-solid fa-moon" id="theme-icon"></i>
            </button>

            <!-- Header Section -->
            <div class="header">
                <div class="logo-area">
                    <div class="logo-shimmer"></div>
                    <img src="../assets/images/Logo.png" alt="SafeGuard" class="main-logo">
                </div>
                <h1>Join SafeGuard</h1>
                <p>Create your safety profile</p>
            </div>

            <!-- Signup Form -->
            <form id="signupForm">
                <div class="input-group">
                    <input type="text" id="fullName" placeholder="Full Name" required>
                    <input type="email" id="signupEmail" placeholder="Email Address" required>

                    <div class="phone-container">
                        <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
                    </div>
                    <div class="input-group text-left"> <!-- Ensures everything inside is left-aligned -->

                        <!-- Password Section -->
                        <label
                            class="field-label text-[#ff4b5c] font-bold text-[11px] tracking-wider uppercase mb-1 block">Password</label>
                        <div class="password-wrap mb-2">
                            <input type="password" id="signupPassword" placeholder="Create Password" required>
                            <i class="fa-solid fa-eye-slash toggle-password"></i>
                        </div>

                        <!-- ðŸ›‘ Dynamic Validation Checklist (Small Text) -->
                        <div id="password-requirements" class="mb-4 space-y-1">
                            <!-- This hint changes text based on what is missing -->
                            <p id="main-hint"
                                class="text-[#ff4b5c] text-[10px] font-bold mb-2 transition-all duration-300">Please
                                enter a secure password</p>

                            <div class="requirement flex items-center gap-2 text-gray-500 text-[9px] opacity-80"
                                id="req-upper">
                                <i class="fa-regular fa-circle"></i> <span>Uppercase letter</span>
                            </div>
                            <div class="requirement flex items-center gap-2 text-gray-500 text-[9px] opacity-80"
                                id="req-lower">
                                <i class="fa-regular fa-circle"></i> <span>Lowercase letter</span>
                            </div>
                            <div class="requirement flex items-center gap-2 text-gray-500 text-[9px] opacity-80"
                                id="req-number">
                                <i class="fa-regular fa-circle"></i> <span>Number</span>
                            </div>
                            <div class="requirement flex items-center gap-2 text-gray-500 text-[9px] opacity-80"
                                id="req-special">
                                <i class="fa-regular fa-circle"></i> <span>Special character (e.g. !@#$%)</span>
                            </div>
                            <div class="requirement flex items-center gap-2 text-gray-500 text-[9px] opacity-80"
                                id="req-length">
                                <i class="fa-regular fa-circle"></i> <span>8 characters or more</span>
                            </div>
                        </div>

                        <!-- Confirm Password Section -->
                        <label
                            class="field-label text-gray-500 font-bold text-[11px] tracking-wider uppercase mb-1 block">Confirm
                            Password</label>
                        <div class="password-wrap">
                            <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
                            <i class="fa-solid fa-eye-slash toggle-password"></i>
                        </div>
                    </div>

                    <!-- 3. Scripts Order is Critical -->
                    <!-- Library JS -->
                    <script
                        src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/19.2.19/js/intlTelInput.min.js"></script>

                    <!-- Global Initialization for Phone Input -->
                    <script>
                        let iti; // Declare globally so auth.js can see it
                        document.addEventListener('DOMContentLoaded', () => {
                            const phoneInput = document.querySelector("#phone");
                            iti = window.intlTelInput(phoneInput, {
                                initialCountry: "in",
                                separateDialCode: true,
                                countrySearch: true,
                                useFullscreenPopup: false, // Prevents search bar issue on mobile
                                preferredCountries: ["in", "us", "gb"],
                                utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/19.2.19/js/utils.js",
                            });
                        });
                    </script>

                    <!-- UI logic (Hides Splash) and Auth Logic -->
                    <script src="../scripts/ui-controller.js"></script>
                    <script src="../scripts/auth.js"></script>

</body>

</html>